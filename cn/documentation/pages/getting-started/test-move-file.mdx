---
title: 移动测试文件（再次移动 + 已编辑）
description: 已再次移动到构建组并进一步更新的文件
---

<Note> ⚠️ 本文档由 AI 自动翻译。如有任何不准确之处，请参考[英文原版](/en/documentation/pages/getting-started/test-move-file)。</Note>

# 移动测试文件（再次移动 + 已编辑）

此文件已被多次移动：
1. **第一次移动**：快速入门 → 节点（提交 2）
2. **第二次移动**：节点 → 构建（提交 3，本次提交）

内容已在此增量提交中**进一步更新**。

## 测试移动 + 编辑组合

这测试了工作流的能力：
- 通过 docs.json 中的 `group_path` 修改检测位置变化
- 使用基于索引的导航查找对应的 cn/jp 文件
- 对所有语言版本应用相同的移动
- 同时处理内容更新与结构变化

## 当前位置

- **初始组别**：快速入门（提交 1）
- **第一次移动**：节点（提交 2）
- **第二次移动**：构建 ✅（提交 3，当前）
- **内容状态**：再次更新，包含增量变更

## 更新内容

### 精确协调

移动检测的工作原理：
1. 比较基础提交和 HEAD 之间的 `group_path`
2. 检测文件位置何时发生变化（不同的组路径）
3. 使用基于索引的导航（而非组名）定位 cn/jp 文件
4. 将文件移动到所有语言的新位置

### 基于索引的导航

组别通过位置索引匹配，而非翻译后的名称：
- 英文："Nodes"（索引 1）
- 中文："节点"（索引 1）- 相同位置
- 日文："ノード"（索引 1）- 相同位置

这使得移动可以跨翻译版本工作。

### 内容翻译

内容更新通过上下文感知翻译应用：
```python
def move_and_translate():
    # Move file structurally
    move_file(old_location, new_location)
    # Translate updated content
    translate_with_context(file, existing_translation, git_diff)
```

## 验证

- [ ] 文件已在 cn/jp docs.json 中移动到节点组
- [ ] 物理文件保持在同一目录中（仅 docs.json 更改）
- [ ] 更新的内容已翻译为 cn/jp
- [ ] 基于索引的导航正常工作

## 增量移动测试（提交 3）

第三次提交验证增量移动操作：
- **先前状态**：文件已移动到节点并已翻译
- **当前操作**：再次移动（节点 → 构建）+ 编辑内容
- **预期行为**：
  - 精确协调检测到第二次移动
  - cn/jp 条目从节点组移动到 docs.json 中的构建组
  - 内容变更增量翻译
  - 基于索引的导航在构建组中找到正确的 cn/jp 位置

### 为什么测试多次移动？

文档结构经常演变：
- 初始位置（可能不太合适）
- 第一次重组（更好，但不完美）
- 最终优化（最清晰的结构）

工作流必须正确处理每次移动，无论先前的历史记录如何。