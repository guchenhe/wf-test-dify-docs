---
title: "结束"
description: "定义工作流输出和终止点"
icon: "flag-checkered"
---

<Note> ⚠️ 本文档由 AI 自动翻译。如有任何不准确之处，请参考[英文原版](/en/documentation/pages/nodes/end)。</Note>

结束节点定义了工作流完成时的输出内容。每个工作流应用程序都需要至少一个结束节点来向用户返回结果并终止执行。

<Info>
  结束节点仅适用于工作流应用程序。对话流应用程序使用回答节点在对话流程中传递响应。
</Info>

## 输出配置

结束节点收集来自前面工作流节点的输出,并将它们打包成最终响应。通过使用变量选择器或 `{{variable_name}}` 语法引用上游节点的数据来配置要输出的变量。

你可以输出不同类型的多个变量,包括文本、数字、对象、数组和文件。每个输出变量都成为工作流最终结果结构的一部分。

## 单一结束节点与多个结束节点

### 单路径工作流

具有一条执行路径的简单工作流只需要一个结束节点来捕获最终结果:

<Frame caption="带有一个结束节点的单路径工作流">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/9e43961344d318e09af8d64464d81774.png" alt="Single path workflow example" />
</Frame>

### 多路径工作流

具有条件分支的工作流需要为每个可能的执行路径设置结束节点。根据工作流逻辑,每个分支可以输出不同的变量:

<Frame caption="带有多个结束节点的多路径工作流">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/3cb3f5fea376265bede0a4ac5bcc1ddc.png" alt="Multi-path workflow example" />
</Frame>

## 执行行为

一旦工作流执行到达结束节点,处理立即停止。连接在结束节点之后的节点将不会执行。这使得结束节点成为不同工作流分支的自然终止点。

如果你的工作流有多个可能的执行路径(例如通过 If-Else 节点),请确保每个路径都通向一个结束节点。否则,某些执行分支可能不会返回结果。

## 输出示例

**文本处理结果** - 输出来自大型语言模型节点的已处理文本、摘要或分析结果。

**结构化数据** - 返回来自各种处理节点的 JSON 对象、数组或提取的参数。

**文件输出** - 传递在工作流执行期间创建的生成文档、图像或其他文件。

**状态信息** - 包含处理元数据、成功指示器或诊断信息。

<Frame caption="复杂工作流输出示例">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/a103792790447c1725c1da1176334cae.png" alt="End Node - Long Story Generation Example" />
</Frame>

## 最佳实践

在使用结束节点时,请遵循以下建议以实现最佳的工作流设计:

**使用描述性输出名称** - 为输出变量提供清晰、有意义的名称,以表明其用途和内容类型。

**结束前进行验证** - 考虑在结束节点之前添加验证逻辑,以确保输出数据满足质量要求。

**处理所有路径** - 验证工作流中每个可能的执行路径都通向一个结束节点,以防止不完整的执行。

**记录输出架构** - 为 API 使用者和集成者维护清晰的工作流输出结构文档。

## 高级配置

本节在第二次提交中添加,用于测试与其他操作相结合的增量更新。

**错误处理** - 配置备用结束节点以优雅地处理错误,并向用户提供有意义的错误消息。

**输出转换** - 在结束节点之前使用模板变量或代码节点,根据应用程序的要求格式化输出数据。

**多种输出格式** - 根据条件逻辑为不同的输出格式(JSON、文本、文件)创建单独的结束节点。