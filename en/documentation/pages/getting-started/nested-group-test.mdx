---
title: Nested Group Test
description: Second test to verify nested group placement fix in incremental sync
---

# Nested Group Test

This is the second test file created to verify that the nested group placement fix works correctly.

## Purpose

This test specifically verifies the fix for the issue where files were being added at the TOP LEVEL of dropdowns instead of INSIDE their nested groups.

### Expected Result

After translation, this file should appear at:

**Chinese**:
```
"æ–‡æ¡£" dropdown
  â””â”€ "å¿«é€Ÿå¼€å§‹" group
     â””â”€ cn/documentation/pages/getting-started/nested-group-test
```

**Japanese**:
```
"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ" dropdown
  â””â”€ "ã¯ã˜ã‚ã«" group
     â””â”€ jp/documentation/pages/getting-started/nested-group-test
```

### NOT like this (the bug):

```
"æ–‡æ¡£" dropdown
  â”œâ”€ "å¿«é€Ÿå¼€å§‹" group
  â””â”€ cn/documentation/pages/getting-started/nested-group-test  â† WRONG! Outside group
```

## The Fix

The new `add_page_at_location()` method:
1. Uses the `file_location` path from `find_file_in_dropdown_structure()`
2. Navigates through nested groups: `["pages", 0, "pages", 0, "pages", N]`
3. Adds the file to the correct nested location
4. Preserves existing group names in target languages

## Test Verification

âœ… File added INSIDE "Getting Started" group
âœ… File NOT at top level of dropdown
âœ… Group names preserved ("å¿«é€Ÿå¼€å§‹", "ã¯ã˜ã‚ã«")
âœ… Dropdown names preserved ("æ–‡æ¡£", "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ")

---

ğŸ¤– Second test for nested group placement fix
