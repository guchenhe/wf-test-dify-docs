---
title: "アノテーションシステム"
description: "一貫性を向上させAI生成をバイパスする高品質な応答のキュレーションライブラリを構築"
icon: "pen-field"
---

<Note> ⚠️ このドキュメントはAIによって自動翻訳されています。不正確な部分がある場合は、[英語版](/en/documentation/pages/monitor/annotation-reply)を参照してください。</Note>


アノテーションを使用すると、特定の質問に対する完璧な応答の厳選されたライブラリを作成できます。ユーザーが類似の質問をした場合、Difyは新しい応答を生成する代わりに、事前に作成された回答を返すため、一貫性が保証され、重要なトピックにおけるAIのハルシネーションを排除できます。

## アノテーションを使用する場面

**企業標準**
一貫性が重要なポリシーに関する質問、製品情報、またはカスタマーサービスシナリオに対して決定的な回答を作成します。

**迅速なプロトタイピング**
モデルの再トレーニングや複雑なプロンプトエンジニアリングなしに、高品質な応答を厳選することでデモアプリケーションを迅速に改善します。

**品質保証**
機密性の高い質問や重要な質問に対して、変動の可能性があるAI生成コンテンツではなく、常に承認済みの応答を受け取ることを保証します。

## アノテーションの仕組み

アノテーション返答が有効化されている場合：
1. ユーザーが質問をする
2. システムが既存のアノテーションから意味的な一致を検索する
3. 類似度閾値を上回る一致が見つかった場合、厳選された応答を返す
4. 一致がない場合、通常のAI生成を実行する
5. どのアノテーションが使用され、どの程度の頻度で使用されるかを追跡する

これにより、既知の良い回答に対する「高速パス」を作成し、新しい質問に対するAIの柔軟性を維持します。

## アノテーションの設定

**アプリ設定での有効化**
**Orchestrate → Add Features** に移動し、アノテーション返答を有効にします。マッチングのための類似度閾値とテキスト埋め込みモデルを設定します。

**類似度閾値：** より高い値は、より近い一致を必要とします。適度な設定から始めて、ヒット率に基づいて調整してください。

**テキスト埋め込みモデル：** 意味的マッチングのために質問をベクトル化するために使用されます。モデルを変更すると、すべてのテキスト埋め込みが再生成されます。

## アノテーションの作成

**会話から**
デバッグモードまたはログで、AI応答をクリックして完璧な回答に編集します。将来の使用のためにアノテーションとして保存します。

**一括インポート**
テンプレートをダウンロードし、指定された形式でQ&Aペアを作成し、バッチアノテーション作成のためにアップロードします。

**手動入力**
カスタム質問と応答を使用して、Logs & Annotationsインターフェースで直接アノテーションを追加します。

## アノテーション品質の管理

**ヒット追跡**
どのアノテーションがマッチされ、どの程度の頻度で使用され、マッチの類似度スコアがどれくらいかを監視します。これは、どのアノテーションが価。

**継続的な改善**
ヒット履歴を確認して、アノテーションのカバレッジと精度を向上させます。一貫してアノテーションにヒットしない質問は、カバレッジのギャップを示しています。

**A/Bテスト**
アノテーション実装前後のユーザー満足度を比較して、影響を測定します。

## アノテーション分析

**ヒット率分析**
頻繁にマッチされるアノテーションと全く使用されないアノテーションを追跡します。未使用のアノテーションを削除し、成功したパターンを拡張します。

**質問パターン**
アノテーションカバレッジの恩恵を受ける一般的なユーザー質問タイプを特定します。

**マッチ品質**
類似度スコアを確認して、誤ったマッチなしに適切な質問に対してアノテーションがトリガーされていることを確認します。

## ベストプラクティス

**小さく始める：** 最も頻繁に尋ねられる質問や正確である必要がある重要な情報から始めます。

**閾値をテストする：** マッチ精度とカバレッジのバランスを取るために、類似度閾値を実験します。

**ミスを監視する：** アノテーションにヒットすべきだったのにしなかった質問を追跡し、必要な閾値調整やアノテーションギャップを示します。

**定期的に更新する：** アノテーションは時間の経過とともに古くなります。変化するポリシーやユーザーフィードバックに基づいてレビューし、更新します。

アノテーションは、既知のケースを処理しながらAIが新しい質問を処理することを可能にする、AI生成の補完として最も効果的に機能します。
