---
title: "開始"
description: "workflowとchatflowアプリケーションのエントリーポイント"
icon: "play"
---

<Note> ⚠️ このドキュメントはAIによって自動翻訳されています。不正確な部分がある場合は、[英語版](/en/documentation/pages/nodes/start)を参照してください。</Note>

Startノードは、すべてのworkflowとchatflowアプリケーションのエントリーポイントです。エンドユーザーから受け入れる入力を定義し、workflow全体で参照できるシステム変数を提供します。

## 入力変数

Startノードでカスタム入力フィールドを設定し、ユーザーから情報を収集できます。各入力フィールドはworkflowを通して流れる変数になります。例えば、`user_name`という入力フィールドを作成した場合、workflowのどこでも`{{user_name}}`として参照できます。

### 入力タイプ

Startノードは、異なる種類のユーザーデータを処理するために6つの入力タイプをサポートしています:

<Tabs>
  <Tab title="テキスト入力">
    **Text**は256文字までの短い応答を受け入れます。名前、メールアドレス、タイトル、または1行に収まる任意の短いテキスト入力に使用します。

    **Paragraph**は文字制限のない長文テキストを受け入れます。ユーザーに詳細な応答、説明、またはより多くのスペースが必要なコンテンツのための複数行のテキストエリアを提供します。
  </Tab>
  
  <Tab title="構造化入力">
    **Select**はユーザーに事前定義したオプションのドロップダウンメニューを提示します。指定したオプションからのみ選択できるため、データの一貫性が確保され、予期しない入力が防止されます。
    
    **Number**は数値のみの入力を制限します。これは、数量、評価、ID、またはworkflowで数学的に処理する必要がある任意のデータに不可欠です。
  </Tab>
  
  <Tab title="ファイル入力">
    **Single File**は、サポートされている任意のタイプのファイルを1つアップロードできるようにします。ユーザーはデバイスからアップロードするか、ファイルのURLを提供できます。ファイルはworkflow内でファイル変数として利用可能になります。
    
    **File List**はシングルファイルと同様に機能しますが、一度に複数のファイルアップロードをサポートします。これは、ドキュメントや画像、その他のファイルを一括処理する場合に便利です。
  </Tab>
</Tabs>

<Info>
  ユーザーがファイルをアップロードすると、Difyのドキュメント抽出器はPDF、Wordドキュメント、ほとんどのテキスト形式を自動的に処理できます。画像、音声、または動画ファイルの場合は、workflowで適切な処理ノードを接続する必要があります。
</Info>

## システム変数

カスタム入力とは別に、Startノードはworkflowメタデータとコンテキストにアクセスするためのシステム変数を提供します。これらの変数は自動的に利用可能で、変更することはできません。

<Frame caption="workflowとchatflowアプリケーションで利用可能なシステム変数">
  <img src="/images/2bc13695bb7c41fe54b7362d4b7237a480524aa7c05b42c80649fd1e1209f091.png" alt="システム変数の比較" />
</Frame>

利用可能なシステム変数はアプリケーションのタイプによって異なります。workflowアプリケーションは`sys.app_id`や`sys.workflow_id`のような基本的なメタデータを提供し、chatflowアプリケーションには`sys.conversation_id`や`sys.dialogue_count`のような会話特有の変数が含まれます。

システム変数は、実行コンテキストの追跡、ユーザー特有のロジックの実装、またはchatflowアプリケーションでの会話状態の維持に特に有用です。

## 変数の参照

Startノードからの変数は、任意の下流ノードで参照できます。ノードの入力フィールドを設定する際、ドロップダウンメニューから変数を選択するか、テキストフィールドで`/`を入力して変数の値を挿入できます。

<Frame caption="スラッシュコマンドを使用してテキスト入力に変数を挿入する">
  <img src="/images/image.png" alt="変数挿入インターフェース" />
</Frame>

変数はworkflow全体でそのタイプを維持します。数値入力は数値のまま、ファイルアップロードはファイルオブジェクトのまま、テキスト入力は文字列のままとなります。このタイプの一貫性により、下流ノードがデータを正しく処理できるようになります。

## ファイル処理

Startノードを通じてアップロードされたファイルは、workflowで適切に処理する必要があります。Startノード自体はファイルを収集し、変数として利用可能にするだけです。内容を抽出し処理するためには、特定のノードを接続する必要があります:

ドキュメントファイルは、Document Extractorノードにルーティングしてテキストコンテンツを抽出します。画像は、ビジョン機能を持つLLMノードや専門の画像処理ツールに送信できます。CSVやJSONなどの構造化データファイルは、Codeノードを使用してデータを解析し変換できます。

<Note>
  ファイル変数はアップロードされたファイルの名前、サイズ、タイプなどのメタデータを含みます。実際のファイルの内容は、下流ノードで抽出または処理する必要があります。
</Note>

## 非表示変数

入力変数を「非表示」としてマークすることで、ユーザーインターフェースから除外しつつ、workflow内で利用可能にすることができます。

## 設定のベストプラクティス

Startノードの入力を設計する際、最初に必要な情報とworkflowの後で派生または収集できる情報を考慮してください。最初に多くの入力を要求すると、ユーザーにとって摩擦が生じますが、少なすぎるとworkflowの機能が制限される可能性があります。

データの内容を明確に示す説明的な変数名を選択してください。変数名はアンダースコアやキャメルケースを一貫して使用し、解析の問題を引き起こす可能性のある特殊文字を避けてください。変数名は大文字と小文字を区別することを忘れないでください。したがって`userName`と`username`は異なる変数です。

ファイルアップロードの場合、適切なファイルタイプの制限とサイズ制限を設定することを検討してください。これにより、下流での処理エラーを防ぎ、workflowが期待される入力形式を受け取ることができます。

## 次のステップ

Startノードを設定した後、通常は収集した入力を処理するノードに接続します。一般的なパターンには、ユーザー入力を処理するためのLLMノードへの送信、入力に基づいて関連情報を検索するための知識検索の使用、または入力値に基づいて条件ロジックを使用して異なるworkflow分岐へのルーティングがあります。
```
