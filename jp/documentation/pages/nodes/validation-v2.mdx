---
title: Validation V1
description: リネーム修正の最終的な総合検証
---

<Note> ⚠️ このドキュメントはAIによって自動翻訳されています。不正確な部分がある場合は、[英語版](/en/documentation/pages/nodes/validation-v1)を参照してください。</Note>

# Validation V1

これは、完全なリネーム修正の最終的な総合テストです。

## 検証内容

3つの重要な修正がすべて連携して動作することを確認します：

1. **拡張子の削除（ロケーション検索）** - コミット 8bf899c6
   - `file_locations`で検索する前に`new_en_path`から`.mdx`/`.md`を削除
   - docs.json更新をスキップする原因となった`location = None`を防止

2. **条件付きリネーム検出** - コミット 532e97cf
   - gitが実際にリネームを検出した場合のみリネーム検出をスキップ
   - `files_to_sync=[]`の場合でもreconcileがR100リネームを処理することを保証

3. **拡張子の削除（新しいターゲット）** - コミット b9489a0a
   - docs.jsonに追加する前に`new_target`から拡張子を削除
   - `"cn/.../file.mdx"`のようなエントリを防止（正しくは`"cn/.../file"`）

## テストシーケンス

- **V1**（このファイル）→ 自動同期がcn/jp翻訳を作成
- **V1 → V2** → 完全なリネーム動作を検証
- **V2 → V3** → 複数回のリネームにわたる一貫性を検証

## 期待される結果

各リネーム後：
- ✅ 物理ファイル：`cn/validation-*.mdx`、`jp/validation-*.mdx`がリネームされる
- ✅ docs.json：`cn/.../validation-*`、`jp/.../validation-*`が更新される（拡張子なし）
- ✅ cn/jpエントリの削除は発生しない
- ✅ エントリが物理ファイルと同時にアトミックに更新される

🤖 Claudeコードによる最終検証