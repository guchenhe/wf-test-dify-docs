---
title: "MCPサーバー"
description: "Claude Desktop、Cursor、その他のAI開発ツールと統合するためにDifyアプリケーションをMCPサーバーとして公開"
icon: "network-wired"
---

<Note> ⚠️ このドキュメントはAIによって自動翻訳されています。不正確な部分がある場合は、[英語版](/en/documentation/pages/publish/publish-mcp)を参照してください。</Note>


DifyはアプリケーションをMCP（Model Context Protocol）サーバーとして公開することをサポートし、Claude DesktopやCursorなどのAI開発ツールとのシームレスな統合を可能にします。これにより、これらのツールがあたかもネイティブな拡張機能であるかのように、DifyアプリケーションとDirectly対話できるようになります。

<Note>
  Difyワークフローおよびエージェント内でMCPツールを使用する場合は、[こちら](/en/guides/tools/mcp)をご覧ください。
</Note>

## DifyアプリをMCPサーバーとして設定する

Difyのアプリケーション設定インターフェースに移動すると、MCPサーバー設定モジュールが見つかります。この機能はデフォルトで無効になっています。有効にすると、Difyはアプリケーション用の一意のMCPサーバーアドレスを生成します。このアドレスは外部ツールの接続ポイントとして機能します。

<Danger>
  MCPサーバーURLには認証資格情報が含まれているため、APIキーのように扱ってください。漏洩した疑いがある場合は、再生成ボタンを使用して新しいURLを作成してください。古いURLは直ちに動作しなくなります。
</Danger>

<img
  src="/images/CleanShot2025-07-07at08.18.02.png"
  alt="CleanShot 2025-07-07 at 08.18.02.png"
  title="CleanShot 2025-07-07 at 08.18.02.png"
  className="mx-auto"
  style={{ width:"46%" }}
/>

## Claude Desktopとの統合

DifyアプリをClaude Desktopに接続するには、Claude統合を追加する必要があります。Claude Profile > Settings > Integrations > Add integrationに移動します。統合URLをDifyアプリのサーバーURLに置き換えます。

## Cursorとの統合

Cursorの場合、プロジェクトルートに`.cursor/mcp.json`ファイルを作成または編集します：

```json
{
  "mcpServers": {
    "your-server-name": {
      "url": "your-server-url"
    }
  }
}
```

URLをDifyアプリのMCPサーバーアドレスに置き換えるだけです。Cursorはこの設定を自動的に検出し、Difyアプリをツールとして利用可能にします。`mcpServers`オブジェクトに追加のエントリを含めることで、複数のDifyアプリを追加できます。

## 実用的な考慮事項

- 説明の詳細性

  ツールとその入力パラメータの説明を設計する際は、AIがそれらをどのように解釈するかを考えてください。明確で具体的な説明により、より良い実行につながります。「入力データ」の代わりに、「必須フィールドを含むユーザープロファイルのJSONオブジェクト：name、email、preferences」と指定してください。

- レイテンシ

  MCPプロトコルが通信レイヤーを処理しますが、Difyアプリのパフォーマンスは依然として重要です。アプリの処理に通常30秒かかる場合、そのレイテンシはクライアントアプリケーションで感じられます。プログレスインジケータの追加や、複雑なワークフローをより小さく高速な操作に分割することを検討してください。
