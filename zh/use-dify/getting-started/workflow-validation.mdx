---
title: 工作流验证测试
description: 使用 zh/ja 语言代码测试重构后的翻译系统
---

<Note> ⚠️ 本文档由 AI 自动翻译。如有任何不准确之处，请参考[英文原版](/en/use-dify/getting-started/workflow-validation)。</Note>

# 工作流验证测试

本文档验证从 `cn`/`jp` 重构为 `zh`/`ja` 后的完整翻译工作流。

## 重构摘要

翻译系统已更新为完全由配置驱动：

### 语言代码变更
- **之前**：硬编码的 `cn` 和 `jp`
- **之后**：从 `tools/translate/config.json` 配置驱动的 `zh` 和 `ja`

### 变量名称变更
- **之前**：`english`、`en_file`、`en_section`
- **之后**：`source`、`source_file`、`source_section`

### PR 类型变更
- **之前**：PR 分析器返回 `pr_type = 'english'`
- **之后**：PR 分析器返回 `pr_type = 'source'`

## 验证点

此 PR 测试：

✅ **ADD 操作**：新文件创建和翻译
✅ **UPDATE 操作**：带有上下文感知翻译的修改
✅ **MOVE 操作**：使用基于索引的导航进行文件重定位
✅ **配置驱动**：所有语言引用均来自 `config.json`
✅ **工作流集成**：工作流文件中正确的 pr_type 匹配

## 预期行为

1. **PR 分析器**将其归类为 `source` 类型
2. **同步计划生成器**检测所有操作
3. **翻译工作流**成功执行
4. **目标语言**（zh、ja）自动更新

## 技术细节

系统现在：
- 从配置动态加载语言代码
- 全程使用与语言无关的变量名称
- 通过配置支持任意源语言/目标语言对
- 使用配置派生的允许列表验证文件路径